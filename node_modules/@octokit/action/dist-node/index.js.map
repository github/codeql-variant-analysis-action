{"version":3,"file":"index.js","sources":["../dist-src/version.js","../dist-src/index.js"],"sourcesContent":["export const VERSION = \"4.0.8\";\n","import { Octokit as Core } from \"@octokit/core\";\nimport { createActionAuth } from \"@octokit/auth-action\";\nimport { paginateRest } from \"@octokit/plugin-paginate-rest\";\nimport { legacyRestEndpointMethods } from \"@octokit/plugin-rest-endpoint-methods\";\nimport { VERSION } from \"./version\";\nconst HttpsProxyAgent = require(\"https-proxy-agent\");\nconst DEFAULTS = {\n    authStrategy: createActionAuth,\n    baseUrl: getApiBaseUrl(),\n    userAgent: `octokit-action.js/${VERSION}`,\n};\nfunction getProxyAgent() {\n    const httpProxy = process.env[\"HTTP_PROXY\"] || process.env[\"http_proxy\"];\n    if (httpProxy) {\n        return new HttpsProxyAgent(httpProxy);\n    }\n    const httpsProxy = process.env[\"HTTPS_PROXY\"] || process.env[\"https_proxy\"];\n    if (httpsProxy) {\n        return new HttpsProxyAgent(httpsProxy);\n    }\n    return undefined;\n}\nexport const Octokit = Core.plugin(paginateRest, legacyRestEndpointMethods).defaults(function buildDefaults(options) {\n    return {\n        ...DEFAULTS,\n        ...options,\n        request: {\n            agent: getProxyAgent(),\n            ...options.request,\n        },\n    };\n});\nfunction getApiBaseUrl() {\n    /* istanbul ignore next */\n    return process.env[\"GITHUB_API_URL\"] || \"https://api.github.com\";\n}\n"],"names":["VERSION","HttpsProxyAgent","require","DEFAULTS","authStrategy","createActionAuth","baseUrl","getApiBaseUrl","userAgent","getProxyAgent","httpProxy","process","env","httpsProxy","undefined","Octokit","Core","plugin","paginateRest","legacyRestEndpointMethods","defaults","buildDefaults","options","request","agent"],"mappings":";;;;;;;;;AAAO,MAAMA,OAAO,GAAG,mBAAhB;;ACKP,MAAMC,eAAe,GAAGC,OAAO,CAAC,mBAAD,CAA/B;;AACA,MAAMC,QAAQ,GAAG;EACbC,YAAY,EAAEC,2BADD;EAEbC,OAAO,EAAEC,aAAa,EAFT;EAGbC,SAAS,EAAG,qBAAoBR,OAAQ;AAH3B,CAAjB;;AAKA,SAASS,aAAT,GAAyB;EACrB,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAR,CAAY,YAAZ,KAA6BD,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA/C;;EACA,IAAIF,SAAJ,EAAe;IACX,OAAO,IAAIT,eAAJ,CAAoBS,SAApB,CAAP;;;EAEJ,MAAMG,UAAU,GAAGF,OAAO,CAACC,GAAR,CAAY,aAAZ,KAA8BD,OAAO,CAACC,GAAR,CAAY,aAAZ,CAAjD;;EACA,IAAIC,UAAJ,EAAgB;IACZ,OAAO,IAAIZ,eAAJ,CAAoBY,UAApB,CAAP;;;EAEJ,OAAOC,SAAP;AACH;;AACD,MAAaC,OAAO,GAAGC,YAAI,CAACC,MAAL,CAAYC,+BAAZ,EAA0BC,mDAA1B,EAAqDC,QAArD,CAA8D,SAASC,aAAT,CAAuBC,OAAvB,EAAgC;EACjH,OAAO,EACH,GAAGnB,QADA;IAEH,GAAGmB,OAFA;IAGHC,OAAO,EAAE;MACLC,KAAK,EAAEf,aAAa,EADf;MAEL,GAAGa,OAAO,CAACC;;GALnB;AAQH,CATsB,CAAhB;;AAUP,SAAShB,aAAT,GAAyB;;EAErB,OAAOI,OAAO,CAACC,GAAR,CAAY,gBAAZ,KAAiC,wBAAxC;AACH;;;;"}